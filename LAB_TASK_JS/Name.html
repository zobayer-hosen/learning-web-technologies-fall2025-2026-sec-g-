<!DOCTYPE html>
<html>
<head>
    <title>Name Validation</title>
</head>
<body>

    <h1>Name Validation</h1>
    
    <form onsubmit="return test()">
    
        Name: 
        <input type="text" id="name" name="name" value="" onblur="validateName()" />
        
        <input type="submit" value="Submit" />
        
        <p id="nameError"></p>

    </form>

    <script>
        function isLetter(char) {
            return char.toLowerCase() != char.toUpperCase();
        }
        function validateName() {
           
            let nameInput = document.getElementById('name');
            let nameError = document.getElementById('nameError');

            let name = nameInput.value;

            if (name == "") {
                nameError.innerHTML = "Name cannot be empty.";
                nameError.style.color = "red";
                return; 
            }
            if (!isLetter(name[0])) {
                nameError.innerHTML = "Name must start with a letter.";
                nameError.style.color = "red";
                return; 
            }

            let wordCount = 0;
            let inWord = false;

            for (let i = 0; i < name.length; i++) {
               
                let char = name[i];

                if (!isLetter(char) && char != '.' && char != '-' && char != ' ') {
                    nameError.innerHTML = "Can only contain letters, dots, dashes, and spaces.";
                    nameError.style.color = "red";
                    return; 
                }

                if (char == ' ') {
                    inWord = false; 
                } else {
                   
                    if (inWord == false) {
                        wordCount++;
                        inWord = true; 
                    }
                }
            }
            if (wordCount < 2) {
                nameError.innerHTML = "Must contain at least two words.";
                nameError.style.color = "red";
                return; 
            }
            nameError.innerHTML = "";
        }

        function test() {
            
            let nameInput = document.getElementById('name');
            let nameError = document.getElementById('nameError');
            validateName();
            if (nameError.innerHTML !== "") {
                return false;
            } else {
                if (nameInput.value != "") {
                     return true; 
                } else {
                   
                    return false;
                }
            }
        }
    </script>

</body>
</html>